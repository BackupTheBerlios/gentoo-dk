<?xml version='1.0' encoding="iso-8859-1"?>
<!-- $Header: /home/xubuntu/berlios_backup/github/tmp-cvs/gentoo-dk/Repository/docs/translated/Attic/altinstall.xml,v 1.1 2004/08/21 13:28:24 broeman Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/en/altinstall.xml">

<title>Gentoo Linux alternative installationsmetoder HOWTO</title>

<author title="Bidrager">
  <mail link="gerrynjr@gentoo.org">Gerald Normandin Jr.</mail>
</author>
<author title="Bidrager">
  <mail link="lordviram@rebelpacket.net">Travis Tilley</mail>
</author>
<author title="Bidrager">
  <mail link="volontir@yahoo.com">Oleg Raisky</mail>
</author>
<author title="Bidrager">
  <mail link="luminousit@hotmail.com">Alex Garbutt</mail>
</author>
<author title="Bidrager">
  <mail link="alex@openvs.com">Alexandre Georges</mail>
</author>
<author title="Bidrager">
  <mail link="vargen@b0d.org">Magnus Backanda</mail>
</author>
<author title="Bidrager">
  <mail link="davoid@gentoo.org">Faust A. Tanasescu</mail>
</author>
<author title="Bidrager">
  <mail link="aliz@gentoo.org">Daniel Ahlberg</mail>
</author>
<author title="Redaktør">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Gennemlæsning">
  <mail link="antifa@gentoo.org">Ken Nowack</mail>
</author>
<author title="Redaktør">
  <mail link="blubber@gentoo.org">Tiemo Kieft</mail>
</author>
<author title="Oversættelse">
  <mail link="broeman@gentoo.org">Jesper Brodersen</mail>
</author>

<abstract>
Denne HOWTO er ment som et arkiv af alternative Gentoo installationsmetoder, til dem med specielle installationsbehov, som f.eks. mangel af en CDROM eller en computer, der kan boote CD'er.
</abstract>

<license/>

<version>0.43</version>
<date>12. Juli, 2004</date>

<chapter>
<title>Om dette dokument</title>
<section>
<body>

<p>
Hvis den normale boot-fra-CD installationsmetode ikke virker for dig (eller du bare ikke ønsker det), er hjælp nu til rådighed. Dette dokument tjener formålet med at levere et arkiv af alternative Gentoo Linux installationsteknikker for dem, der mangler det.
Eller, hvis du ønsker det, tjener den formålet med at levere et sted for at tilføje dine mærkelige installationsmetoder.
Hvis du har en installationsmetode, som du selv synes er brugbart, eller du har udtænkt en sjov metode for at installere Gentoo, hold dig endelig ikke tilbage med at skrive noget og <mail link="antifa@gentoo.org">sende det til mig</mail> (på Engelsk).
</p>

</body>
</section>
</chapter>

<chapter>
<title>Opstart med LiveCDen med "Smart BootManager"</title>
<section>
<body>

<p>
Hent Smart BootManager <uri
link="http://btmgr.sourceforge.net/index.php3?body=download.html">http://btmgr.sourceforge.net/index.php3?body=download.html</uri>.
Linux kildekoder eller binær format og windows .exe versioner er til rådighed, samt mange sprog-pakker. Dog, på dette tidspunkt, den anbefalede metode ville være at bruge det binære format, idet kildekoderne ikke kan samles med nyere versioner af NASM.
</p>

<p>
Enten samler du pakken fra kildekoderne eller hente den binære fil. Der er flere valgmuligheder, som kan blive udført imens du opretter din opstartdiskette, som set forneden.
</p>

<pre caption="Smart BootManagers valgmuligheder">
<i>sbminst [-t theme] [-d drv] [-b backup_file] [-u backup_file]

   -t theme     select the theme to be used, in which the theme could be:
                   us = English theme       de = German theme 
                  hu = Hungarian theme     zh = Chinese theme 
                  ru = Russian theme       cz = Czech theme
                  es = Spanish theme       fr = French theme 
                   pt = Portuguese theme 

                 
  -d drv       set the drive that you want to install Smart BootManager on;
                for Linux:
                  /dev/fd0 is the first floppy driver, 
                  /dev/hda is the first IDE harddisk driver.
                   /dev/sda is the first SCSI harddisk driver.
                for DOS:
                   0   is the first floppy drive
                   128 is the first hard drive;

   -c             disable CD-ROM booting feature;

   -b backup_file backup the data that will be overwritten for
                  future uninstallation;

   -u backup_file uninstall Smart BootManager, should be used alone;

   -y             do not ask any question or warning.</i>
</pre>

<pre caption="Brug af sbminst for at bygge opstartsdisketten">
# <i>sbminst -t us  -d /dev/fd0</i>
</pre>

<note>
Erstat fd0 med din respektive floppy-drevs enhedsnavn, hvis din er anderledes.
</note>

<p>
Indsæt nu bare disketten i diskette-drevet på den computer, hvorpå du ønsker at opstarte LiveCDen, samt placere LiveCDen i CDROM-drevet og opstart computeren.
</p>

<p>
Du vil blive hilst af Smart BootManagerens dialog. Vælg dit CDROM-drev og
tast ENTER for at starte LiveCDen. Når opstartsprocessen er afsluttet, fortsæt med de normale installationsinstruktioner.
</p>

<p>
Flere informationer omkring Smart BootManager kan blive fundet på
<uri>http://btmgr.sourceforge.net/</uri>
</p>

</body>
</section>
</chapter>

<chapter>
<title>Knoppix installation</title>
<section>
<body>

<p>
Opstart fra <uri link="http://www.knoppix.org/">Knoppix</uri>-LiveCDen er en metode for at få et fuldt funktionelt Linux system, imens du samler Gentoo. Tux
Racer vil hjælpe dig med at få tiden til at gå, imens du venter på bootstrap.
</p>

<p>
Opstart fra Knoppix CDen. Den laver generelt et godt job med hardware-findingen. Det kan dog være at du skal tilføje nogle opstarts-valgmuligheder.
</p>

<p>
Som standard, opstarter Knoppix ind på en KDE 3.0 arbejdsplads. Den første ting, som jeg gjorde var at åbne en konsol og taste <c>sudo passwd root</c>. Dette lader dig ændre root-kodeordet for Knoppix.
</p>

<p>
Derefter, su'er jeg til root og taster <c>usermod -d /root -m root</c>. Dette sætter brugeren roots hjemmefolder til /root ("the Gentoo way") fra /home/root ("the Knoppix way"). Hvis du ikke gør dette, vil du modtage fejl, når du emerger, som f.eks. "/home/root: not found" eller noget lignende.
</p>

<p>
Så indtaster jeg <c>exit</c> og så <c>su</c>'er tilbage til root. Dette henter ændringerne, som var blevet lavet med usermod-kommandoen. Opret nu <path>/mnt/gentoo</path> mountpunktet ved brug af <c>mkdir</c>:
</p>

<pre caption="Oprettelse af /mnt/gentoo mountpunkt">
# <i>mkdir /mnt/gentoo</i>
</pre>

<p>
På dette tidspunkt, kan du forsætte med installationsdokumentationen fra <uri link="/doc/da/handbook/handbook-x86.xml?part=1&amp;chap=4">4. kapitel</uri>.
Dog, når du bliver spurgt om at mounte proc systemet, udfør følgende kommando, i stedet for:
</p>

<pre caption="Bind-mounting af proc pseudo filsystemet">
# <i>mount -o bind /proc /mnt/gentoo/proc</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Installation fra stage 1 uden netværksadgang</title>
<section>
<body>

<p>
Brænd en LiveCD iso-fil.
</p>

<p>
Få den sidste nye portage snapshot fra
<uri>http://distro.ibiblio.org/pub/linux/distributions/gentoo/snapshots/</uri>
(eller dit favorit <uri
link="http://www.gentoo.org/main/en/mirrors.xml">filspejl</uri>). Enten placer denne tarball på en eksisterende partition på den computer, du installerer på, eller brænd den til en CD.
</p>

<p>
Følg alle instruktionerne i Gentoo installationshåndbog op til <c>chroot
/mnt/gentoo</c> i kapitel 6. Hvis du kun har et CDROM-drev, så husk at bruge <c>cdcache</c> valgmuligheden, imens du opstarter, så du kan unmounte LiveCDen og mounte din portage snapshot CD.
</p>

<p>
Åben en ny konsol (Alt-F2), og følg installationsdokumentationen op til det kørende bootstrap.sh script.
</p>

<warn>
Ældre udgivelser af LiveCDen kræver at du ændrer kodeordet ved brug af <c>passwd</c>-kommandoen, før du logger ind manuelt.
</warn>		   

<p>
Gå tilbage til den første konsol (Alt-F1, uden chroot) og mount en anden CD på
<path>/mnt/gentoo/mnt/cdrom2</path>. Kopier portage tarballen fra cdrom2 og udpak den til <path>/mnt/gentoo/usr/portage</path>.
</p>

<pre caption="Mount af snapshot cd">
# <i>umount /mnt/cdrom</i>
# <i>mkdir /mnt/gentoo/mnt/cdrom2</i>
# <i>mount /dev/cdroms/cdrom0 /mnt/gentoo/mnt/cdrom2</i>
# <i>cp /mnt/gentoo/mnt/cdrom2/portage-$date.tar.bz2 /mnt/gentoo/usr/portage</i>
# <i>cd /mnt/gentoo/usr/portage</i>
# <i>tar xvjpf portage-$date.tar.bz2</i>
</pre>

<p>
Skift tilbage til F2 konsollen. Hvis du nu prøver at kører bootstrap.sh, vil den fejle, fordi den ikke har mulighed for at hente nogen filer. Vi vil nu fange disse filer et andetsteds og putte dem i /usr/portage/distfiles (på F2 konsollen).
</p>

<p>
Du behøver en liste af stage 1 pakker: glibc, baselayout, texinfo, gettext, zlib, binutils, gcc, ncurses samt deres afhængigheder.
</p>

<note>
Noter at du skal have versionerne af hver pakke synced med dit portage-træ.
</note>

<pre caption="Opnåelse af hente-listen">
<comment>(Glem ikke 2 foran &gt;)</comment>
# <i>emerge -fp glibc baselayout texinfo gettext zlib binutils gcc ncurses 2&gt; stage1.list</i>
# <i>mount -t vfat /dev/fd0 /mnt/floppy</i>
# <i>cp /mnt/gentoo/stage1.list /mnt/floppy</i>
# <i>umount /mnt/floppy</i>
</pre>

<p>
Tag disketten til computer, som har hurtig adgang. Hvis du tager et kig på <path>stage1.list</path>-filen, vil du se at den giver dig flere steder for at hente. Desværre, oplister den også forskellige URLs til hver pakke, som ikke hvad du ønsker. Ryd op i alle, undtagen en af URLene først:
</p>

<pre caption="Oprydning af URLs">
<comment>(Dette script er afhængig af output-formatet givet ved emerge, som kan ændres i fremtiden uden videre at blive sagt - brug den med forsigtighed!)</comment>
# <i>cut -f 1 -d ' ' stage1.list > stage1.download</i>
</pre>

<p>
Brug nu <c>wget</c> til at fange alle de oplistede kilder:
</p>

<pre caption="Brug af wget for at fange dine kildepakker">
# <i>wget -N -i stage1.download</i>
</pre>

<p>
Når du har opnået alle filerne, tag dem til din computer og kopier dem til <path>/mnt/gentoo/usr/portage/distfiles</path>. Nu vil du have mulighed for at køre <c>bootstrap.sh</c>. Gentag den samme "wget-fangst og -placer" procedure til stage 2 og 3.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Diskfri installation ved brug af PXE boot</title>
<section>
<title>Krav</title>
<body>

<p>
Du skal bruge et netværkskort på den diskfrie klient, som bruger PXE-protokollen
til at opstarte, som mange 3com-korte. Du vil også få brug for en BIOS, som understøtter opstart
fra PXE.
</p>

</body>
</section>
<section>
<title>Basisopsætning af server</title>
<body>

<p>
Opret foldere: Den første ting der skal gøres er at oprette foldere, hvor dit
diskfrie system vil blive gemt. Opret en folder kaldet
<path>/diskless</path>, som huser en folder for hver diskfri klient. I resten
af denne howto vil vi arbejde på klienten 'eta'.
</p>

<pre caption="opsætning af foldere">
# <i>mkdir /diskless</i>
# <i>mkdir /diskless/eta</i>
# <i>mkdir /diskless/eta/boot</i>
</pre>

<p>
DHCP- og TFTP-opsætning: Klienten vil få opstartsinformationer ved brug af DHCP og
hente alle de krævede filer ved brug af TFTP. Bare emerge DHCP og indstil den til
dine generelle behov. Så, tilføj følgende i
<path>/etc/dhcp/dhcpd.conf</path>.
</p>

<note>
Dette skaber en fast IP-adresse til klienten og stien af en PXE-opstartsbilledfil,
her pxegrub. Du skal erstatte MAC-adressen af Ethernet-kortet
for din klient og folderen, hvor du vil indsætte klientens filer med den,
du bruger.
</note>

<pre caption="dhcp.conf">
option option-150 code 150 = text ;
host eta {
hardware ethernet 00:00:00:00:00:00;
fixed-address <i>ip.add.re.ss</i>;
option option-150 "/eta/boot/grub.lst";
filename "/eta/boot/pxegrub";
}
</pre>

<p>
Til TFTP, emerge <c>app-admin/tftp-hpa</c>. I
<path>/etc/conf.d/in.tftpd</path>, indsæt følgende:
</p>

<pre caption="in.tftpd">
INTFTPD_PATH="/diskless"
INTFTPD_USER="nobody"
INTFTPD_OPTS="-u ${INTFTPD_USER} -l -vvvvvv -p -c -s ${INTFTPD_PATH}"
</pre>

<p>
Opsæt GRUB: For at levere PXE-opstart, bruger jeg GRUB. Du skal samle den selv
for at aktivere PXE-billedfil samling ... men det er pænt let. Først,
hent den sidste nye version af GRUB-kildekoden (<c>emerge -f grub</c> vil
placere tarball'en i <path>/usr/portage/distfiles</path>). Kopier tarball'en til
<path>/diskless</path> og samle den for at skabe den PXE-understøttede binære fil. Når
den binære fil er samlet, kopier den over til den diskfrie klients opstartsfolder. Så rediger
dens grub.lst indstillingsfil.
</p>

<pre caption="grub setup">
# <i>tar zxvf grub-0.92.tar.gz</i>
# <i>cd grub-0.92</i>
# <i>./configure --help</i>
<codenote>I indstillingerne vil du se en liste af understøttede drivere til netværksgrænseflader. </codenote>
<codenote>Vælg den driver som understøtter dit kort. Herefter refereret som $nic</codenote>
# <i>./configure --enable-diskless --enable-$nic</i>
# <i>make</i>
# <i>cd stage2</i>
# <i>cp pxegrub /diskless/eta/boot/pxegrub</i>
# <i>nano -w /diskless/eta/boot/grub.lst</i>
</pre>

<pre caption="grub.lst">
default 0
timeout 30

title=Diskfri Gentoo
root (nd)
kernel /eta/bzImage ip=dhcp root=/dev/nfs nfsroot=<i>ip.ad.res.se</i>:/diskless/eta

<codenote>Til nfsroot valgmuligheden, er IP-adressen den for serveren og </codenote>
<codenote>folderen, er hvor hvor din diskfrie diskless klients filer er placeret (på serveren).</codenote>
</pre>

<p>
Opsætning af NFS: NFS er meget let at opsætte. Den eneste ting du skal gøre er at tilføje en
linie i <path>/etc/exports</path> opsætningsfilen:
</p>

<pre caption="/etc/exports">
# <i>nano -w /etc/exports</i>
# /etc/exports: NFS file systems being exported.  See exports(5).
/diskless/eta eta(rw,sync,no_root_squash)
</pre>

<p>
Opdater din værter:  En vigtigt ting at gøre nu er at ændre din
<path>/etc/hosts</path> fil til at passe til dine behov.
</p>

<pre caption="/etc/hosts">
127.0.0.1 localhost

192.168.1.10 eta.eksempel.dk eta
192.168.1.20 sigma.eksempel.dk sigma
</pre>

</body>
</section>
<section>
<title>Oprettelse af systemet på serveren</title>
<body>

<p>
Genstart serveren på en Gentoo LiveCD. Følg den normale installationsprocedure, som
forklaret i Gentoo installationshowto, MEN med følgende ændringer. Når du
mounter filsystemet, gør følgende (hvor hdaX er partitionen, som du oprettede
/diskless folderen). Du behøver ikke at mounte andre
partitionr, da alle filerne vil være placeret i <path>/diskless/eta</path>
folderen.
</p>

<pre caption="Mount af filsystem">
#<i> mount /dev/hda3 /mnt/gentoo</i>
</pre>

<p>
Stage-tarballs og chroot: Dette eksempel bruger en stage3-tarball. Mount
<path>/proc</path> til din diskfri folder og chroot den for at fortsætte
installationen. Følg derefter installationsinstruktionerne indtil kerne-opsætningen.
</p>

<warn>
Vær meget forsigtig med hvor du udpakker din stage-tarball. Du vil ikke ønske at udpakke
oveni din eksisterende installation.
</warn>

<pre caption="Udpakning af stage-tarball">
# <i>cd /mnt/gentoo/diskless/eta/</i>
# <i>tar -xvjpf  /mnt/cdrom/gentoo/stage3-*.tar.bz2</i>
# <i>mount -t proc /proc /mnt/gentoo/diskless/eta/proc</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/diskless/eta/etc/resolv.conf</i>
# <i>chroot /mnt/gentoo/diskless/eta/ /bin/bash</i>
# <i>env-update</i>
# <i>source /etc/profile</i>
</pre>

<p>
Kerne-opsætning: Når du laver <c>make menuconfig</c> på din kerne-opsætning,
glem ikke at aktivere de følgende valgmuligheder, med de andre 
anbefalede fra installationsinstruktionerne.
</p>

<pre caption="Menuconfig valgmuligheder">
- Dit netværkskort enhedsunderstøttelse

- Under "Networking options" :

[*] TCP/IP networking
[*] IP: kernel level autoconfiguration
[*] IP: DHCP support
[*] IP: BOOTP support


- Under "File systems --> Network File Systems" :

&lt;*&gt; NFS file system support
[*] Provide NFSv3 client support
[*] Root file system on NFS
</pre>

<p>
Derefter opsæt din diskfrie klients <path>/etc/fstab</path>.
</p>

<pre caption="/etc/fstab">
# <i>nano -w /etc/fstab</i>
/dev/cdroms/cdrom0 /mnt/cdrom iso9660 noauto,ro 0 0
proc /proc proc defaults 0 0
tmpfs /dev/shm tmpfs defaults 0 0
</pre>

<p>
Boot-loader. Installer ikke en anden boot-loader, fordi vi har allerede en -
pxegrub. Afslut simpelthen installationen og genstart serveren. Start de services
som du behøver for at starte den nye klient: DHCP, TFTPD, and NFS.
</p>

<pre caption="Opstart af services">
# <i>/etc/init.d/dhcp start</i>
# <i>/etc/init.d/tftpd start</i>
# <i>/etc/init.d/nfs start</i>
</pre>

</body>
</section>
<section>
<title>Opstart af den nye klient</title>
<body>

<p>
For at den nye klient kan opstarte ordentligt, skal du indstille bios og
netværkskortet til at bruge PXE som første opstartsmetode - før CD-ROM eller floppy. For
hjælp til dette, læs dine hardware-instruktionsvejledninger eller producenters hjemmeside. 
Netværkskortet bør få en IP-adresse ved brug af DHCP og hente GRUB PXE-billedfilen
ved brug af TFTP. Så, bør du se en flot sort og hvid GRUB-opstartsmenu,
hvor du vælger den kerne du vil starte og trykker Enter. Hvis alt er i orden, vil
din kerne starte op, mounte rod-filsystemet ved brug af NFS og give dig en
login-prompt. Nyd det.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Installation af Gentoo fra en eksisterende Linux distribution</title> 
<section>
<title>Krav</title>
<body>

<p>
For at kunne installere Gentoo fra en eksisterende Linux distribution, vil du have brug for
at have chroot-kommandoen installeret, og have en kopi af Gentoo installationstarball'en
eller ISO, som du ønsker at installere. En netværksforbindelse er anbefalet hvis
du vil have mere end hvad er leveret i din tarball. (bemærk at en tarball er
bare en fil, som ender med .tbz eller .tar.gz). Forfatteren brugte RedHat Linux 7.3 som 
"vært" operativsystem, men det er ikke vigtigt.  Lad os starte!
</p>

</body>
</section>
<section>
<title>Oversigt</title>
<body>

<p>
Først vil vi lave plads til en partition til Gentoo ved at ændre størrelsen på vores nuværende Linux
partition, mounte partitionen, untar tarball'en som er mountet, chroot
inde i psuedo-systemet og starte samlingen. Når bootstrap-processen er færdig,
vil vi gøre os nogle afsluttende opsætninger af systemet, så vi er sikker på at den
starter op, og så er vi klar til at genstarte og bruge Gentoo.
</p>

</body>
</section>
<section>
<title>Hvordan skal vi lave plads til Gentoo?</title>
<body>

<p>
Rod-partitionen er filsystemet mountet under <path>/</path>. En hurtig kørsel
af mount på mit system, viser hvad jeg taler om. Vi vil også bruge df (disk
free) for at se hvor meget plads der er tilbage og hvordan jeg ændrer det. Noter at
det ikke er et krav at ændre størrelsen på din rod-partition! Du kan ændre alt andet
som er understøttet af vores resizer, men lad os tale om det senere.
</p>

<pre caption="Filesystem information">
# <i>mount</i>
/dev/hdb2 on / type ext3 (rw) 
none on /proc type proc (rw) 
none on /dev/pts type devpts (rw,gid=5,mode=620) 
none on /dev/shm type tmpfs (rw) 
# <i>df -h </i>
Filesystem           Size Used Avail Use% Mounted on 
/dev/hdb2            4.0G 1.9G  2.4G  82% /
none		      38M    0    38M   0% /dev/shm 
</pre>

<p>
Som du kan se, er partitionen mountet som <path>/</path> navngivet
<path>/dev/hdb2</path> og har 2,4 gigabytes fri plads. I mit tilfælde, synes jeg at jeg vil
ændre den, så der er 400 MB fri plads, og dermed placere 2 gigabytes
til Gentoo. Ikke dårligt, jeg kan have en del ting installeret. Dog, 
kan en gigabyte være nok til de fleste brugere. Så lad os partionere dette!
</p>

</body>
</section>
<section>
<title>Samling af parted for at ændre partitionsstørrelse</title> 
<body>

<p>
Parted er et værktøj leveret af GNU foundation, et gammelt og respektabelt
kæmpeprojekt, hvis software du bruger lige nu. Dette er ét værktøj,
dog er det ekstremt brugbart for os i dette øjeblik. Det er kaldet
parted, "partition editor", og vi kan få det fra
<uri>http://www.gnu.org/software/parted/</uri>
</p>

<note>
Der er også andre værktøjer som kan ændre partitionsstørrelsen, men forfatteren er
ikke sikker på/ikke interesseret i om PartitionMagic(tm) eller andre softwareprodukter af denne type gør
det samme job. Det er op til læseren at finde dem.
</note>

<p> 
Slå op på siden, og se efter hvilket filsystem du ønsker at ændre, og se om 
parted kan gøre det. Hvis ikke, er du uheldig og skal fjerne nogle partitioner
for at gøre plads til Gentoo, og geninstallere tilbage. Bare start med at hente
softwareen og installer det. Her har vi et problem. Vi ønsker at ændre størrelsen på vores Linux
rod-partition, og derfor skal vi starte op fra en diskette med et minimalt linux system
og bruge præ-kompileret parted kopieret til en diskette for at kunne ændre størrelsen på
<path>/</path>.  Dog, hvis du kan unmounte partitionen, imens du stadigvæk er
i Linux, er du heldig, og du behøver ikke at gøre som følgende. Bare samle parted
og køre den på en umountet partition, som du ønsker at ændre størrelsen på.
Her er hvordan jeg gjorde det for mit system.
</p>

<impo>
Vær sikker på at de ting du vil gøre er understøttet af
parted!
</impo>

<p>
Hent tomsrtbt boot/root disk (gratis) fra
<uri>http://freshmeat.net/tomsrtbt</uri>, opret en diskette, som foreslået i dokumentationen,
som følger med softwarepakken og indsæt en ny diskette i
drevet til næste trin.
</p>

<note>
Noter igen at Linux er synonym med "Der er flere måder at gøre det på". Din
opgave er at køre parted på en unmounted partition, så den kan gøre sit arbejde. Du
kan vælge at bruge en anden boot/root diskset end tomsrtbt. Du behøver endda ikke at
skulle gøre dette overhovedet, men kan måske unmounte filsystemet du vil have
genpartitioneret i din Linux session og køre parted på den. 
</note>

<pre caption="Oprettelse af værktøjsdiskette">
# <i>mkfs.minix /dev/fd0</i>
480 inodes
1440 blocks
Firstdatazone=19 (19)
Zonesize=1024
Maxsize=268966912
</pre>

<p>
Vi vil nu fortsætte med at samlingen af parted. Hvis det ikke allerede er hentet
og udpakket, så gør det nu og cd ind i den tilsvarende folder. Kør nu følgende
kommandoer for at samle værktøjet og kopiere det til din diskette.
</p>

<pre caption="Samling af værktøjsdiskette">
# <i> mkdir /floppy; mount -t minix /dev/fd0 /floppy &amp;&amp; 
export CFLAGS="-O3 -pipe -fomit-frame-pointer -static" &amp;&amp; ./configure 
&amp;&amp; make &amp;&amp; cp parted/parted /floppy &amp;&amp; umount /floppy </i>
</pre>

<p>
Tillykke, du er klar til at genstarte og ændre størrelsen på din partition. Gør kun dette
efter at have taget et hurtigt kig i parted dokumentationen på GNUs webside.
Ændringen af størrelsen bør kun tage under 30 minutter for de største harddiske, vær
tålmodig.  Genstart dit system med tomsrtbt opstartsdisk (bare put den i),
og når du har logget ind, udskift disketten i drevet med din værktøjsdiskette,
som vi har lavet foroven og indtast mount /dev/fd0 /floppy for at have parted under
/floppy. Der har du det. Kør parted og du vil være klar til ændre størrelsen på din
partition. Når denne langvarige process er færdig, er du klar til at have det rigtigt sjovt med
at installere Gentoo. Genstart tilbage til dit gamle Linux system nu. Drevet, som du ønsker
at arbejde på, er det drev som inderholder partitionen du ønsker at ændre størrelsen på. F.eks.
hvis du vil ændre /dev/hda3, er drevet /dev/hda.
</p>

<pre caption="Kommandoer som skal køres når man er logget ind på tomsrtbt system">
# <i>mount /dev/fd0 /floppy </i>
# <i>cd /floppy; ./parted [drev som du ønsker at arbejde på]</i>
(parted) <i> print </i>
Disk geometry for /dev/hdb: 0.000-9787.148 megabytes
Disk label type: msdos
Minor    Start       End     Type      Filesystem  Flags
1          0.031   2953.125  primary   ntfs        
3       2953.125   3133.265  primary   linux-swap  
2       3133.266   5633.085  primary   ext3        
4       5633.086   9787.148  extended              
5       5633.117   6633.210  logical               
6       6633.242   9787.148  logical   ext3        
(parted) <i> help resize </i>
  resize MINOR START END        resize filesystem on partition MINOR

        MINOR is the partition number used by Linux.  On msdos disk labels, the
        primary partitions number from 1-4, and logical partitions are 5
        onwards.
        START and END are in megabytes
(parted) <i> resize 2 3133.266 4000.000 </i>
</pre>

<impo>
Vær tålmodig! Computeren virker! Kig bare på hardware LED på dit kabinet
for at se om det virkeligt virker. Det bør tage imellem 2 og 30 minutter.
</impo>

<p>
Når du har ændret størrelsen, start op på din gamle linux, som beskrevet. Så gå til
<uri link="/doc/en/handbook/handbook-x86.xml?part=1&amp;chap=4">Gentoo-håndbogen: Forberedelse af diske</uri> og følg instruktionerne. Når du kommer til chrooting, brug følgende kommand for at skylde dit miljø:
</p>

<pre caption="Skyldning af miljøet ved en chroot">
# <i>env -i /usr/sbin/chroot /mnt/gentoo /bin/bash</i>
</pre>

<p>
Nyd det!
</p>

</body>
</section>
</chapter>

</guide>
